{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/nicholas/Desktop/projects/local-legends/client/styles/packages/mdg:meteor-apm-agent/lib/hijack/meteorx.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"packages/mdg:meteor-apm-agent/lib/hijack/meteorx.js","filename":"/Users/nicholas/Desktop/projects/local-legends/client/styles/packages/mdg:meteor-apm-agent/lib/hijack/meteorx.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/nicholas/Desktop/projects/local-legends/client/styles","root":"/Users/nicholas/Desktop/projects/local-legends/client/styles","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"/Users/nicholas/Desktop/projects/local-legends/client/styles/packages/mdg:meteor-apm-agent/lib/hijack/meteorx.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/mdg:meteor-apm-agent/lib/hijack/meteorx.js"}},"code":"module.export({\n  Server: () => Server,\n  Session: () => Session,\n  MongoCursor: () => MongoCursor,\n  Multiplexer: () => Multiplexer,\n  MongoConnection: () => MongoConnection,\n  Subscription: () => Subscription,\n  MongoOplogDriver: () => MongoOplogDriver,\n  MongoPollingDriver: () => MongoPollingDriver\n});\nlet get;\nmodule.link(\"../utils.js\", {\n  get(v) {\n    get = v;\n  }\n}, 0);\nconst Server = Meteor.server.constructor;\nfunction getSession() {\n  const fakeSocket = {\n    send() {},\n    close() {},\n    headers: []\n  };\n  const server = Meteor.server;\n  server._handleConnect(fakeSocket, {\n    msg: \"connect\",\n    version: \"pre1\",\n    support: [\"pre1\"]\n  });\n  const session = fakeSocket._meteorSession;\n  server._removeSession(session);\n  return session;\n}\nconst session = getSession();\nconst Session = session.constructor;\nconst collection = new Mongo.Collection(\"__dummy_coll_\" + Random.id());\ncollection.findOne();\nconst cursor = collection.find();\nconst MongoCursor = cursor.constructor;\nfunction getMultiplexer(cursor) {\n  const handle = cursor.observeChanges({\n    added() {}\n  });\n  handle.stop();\n  return handle._multiplexer;\n}\nconst Multiplexer = getMultiplexer(cursor).constructor;\n// Due to Meteor 2.7.4, defaultRemoteCollectionDriver can be Async now https://github.com/meteor/meteor/pull/12057\nconst mongoDriver = MongoInternals.defaultRemoteCollectionDriver();\nconst MongoConnection = (mongoDriver.await ? mongoDriver.await() : mongoDriver).mongo.constructor;\nfunction getSubscription(session) {\n  const subId = Random.id();\n  session._startSubscription(function () {\n    this.ready();\n  }, subId, [], \"__dummy_pub_\" + Random.id());\n  const subscription = get(session._namedSubs, subId);\n  session._stopSubscription(subId);\n  return subscription;\n}\nconst Subscription = getSubscription(session).constructor;\nfunction getObserverDriver(cursor) {\n  const multiplexer = getMultiplexer(cursor);\n  return multiplexer && multiplexer._observeDriver || null;\n}\nfunction getMongoOplogDriver() {\n  const driver = getObserverDriver(cursor);\n  let MongoOplogDriver = driver && driver.constructor || null;\n  if (MongoOplogDriver && typeof MongoOplogDriver.cursorSupported !== \"function\") {\n    return null;\n  }\n  return MongoOplogDriver;\n}\nconst MongoOplogDriver = getMongoOplogDriver();\nfunction getMongoPollingDriver() {\n  const cursor = collection.find({}, {\n    limit: 20,\n    _disableOplog: true\n  });\n  const driver = getObserverDriver(cursor);\n\n  // verify observer driver is a polling driver\n  if (driver && typeof driver.constructor.cursorSupported === \"undefined\") {\n    return driver.constructor;\n  }\n  return null;\n}\nconst MongoPollingDriver = getMongoPollingDriver();","map":{"version":3,"names":["module","export","Server","Session","MongoCursor","Multiplexer","MongoConnection","Subscription","MongoOplogDriver","MongoPollingDriver","get","link","v","Meteor","server","constructor","getSession","fakeSocket","send","close","headers","_handleConnect","msg","version","support","session","_meteorSession","_removeSession","collection","Mongo","Collection","Random","id","findOne","cursor","find","getMultiplexer","handle","observeChanges","added","stop","_multiplexer","mongoDriver","MongoInternals","defaultRemoteCollectionDriver","await","mongo","getSubscription","subId","_startSubscription","ready","subscription","_namedSubs","_stopSubscription","getObserverDriver","multiplexer","_observeDriver","getMongoOplogDriver","driver","cursorSupported","getMongoPollingDriver","limit","_disableOplog"],"sources":["packages/mdg:meteor-apm-agent/lib/hijack/meteorx.js"],"sourcesContent":["// Various tricks for accessing \"private\" Meteor APIs borrowed from the\n// now-unmaintained meteorhacks:meteorx package.\n\nimport { get } from \"../utils.js\";\n\nexport const Server = Meteor.server.constructor;\n\nfunction getSession() {\n  const fakeSocket = {\n    send() {},\n    close() {},\n    headers: []\n  };\n\n  const server = Meteor.server;\n\n  server._handleConnect(fakeSocket, {\n    msg: \"connect\",\n    version: \"pre1\",\n    support: [\"pre1\"]\n  });\n\n  const session = fakeSocket._meteorSession;\n\n  server._removeSession(session);\n\n  return session;\n}\n\nconst session = getSession();\nexport const Session = session.constructor;\n\nconst collection = new Mongo.Collection(\"__dummy_coll_\" + Random.id());\ncollection.findOne();\nconst cursor = collection.find();\nexport const MongoCursor = cursor.constructor;\n\nfunction getMultiplexer(cursor) {\n  const handle = cursor.observeChanges({\n    added() {}\n  });\n  handle.stop();\n  return handle._multiplexer;\n}\n\nexport const Multiplexer = getMultiplexer(cursor).constructor;\n\n// Due to Meteor 2.7.4, defaultRemoteCollectionDriver can be Async now https://github.com/meteor/meteor/pull/12057\nconst mongoDriver = MongoInternals.defaultRemoteCollectionDriver()\nexport const MongoConnection =\n  (mongoDriver.await ? mongoDriver.await() : mongoDriver).mongo.constructor;\n\nfunction getSubscription(session) {\n  const subId = Random.id();\n\n  session._startSubscription(function () {\n    this.ready();\n  }, subId, [], \"__dummy_pub_\" + Random.id());\n\n  const subscription = get(session._namedSubs, subId);\n\n  session._stopSubscription(subId);\n\n  return subscription;\n}\n\nexport const Subscription = getSubscription(session).constructor;\n\nfunction getObserverDriver(cursor) {\n  const multiplexer = getMultiplexer(cursor);\n  return multiplexer && multiplexer._observeDriver || null;\n}\n\nfunction getMongoOplogDriver() {\n  const driver = getObserverDriver(cursor);\n  let MongoOplogDriver = driver && driver.constructor || null;\n  if (MongoOplogDriver &&\n      typeof MongoOplogDriver.cursorSupported !== \"function\") {\n    return null;\n  }\n  return MongoOplogDriver;\n}\n\nexport const MongoOplogDriver = getMongoOplogDriver();\n\nfunction getMongoPollingDriver() {\n  const cursor = collection.find({}, {\n    limit: 20,\n    _disableOplog: true,\n  });\n\n  const driver = getObserverDriver(cursor);\n\n  // verify observer driver is a polling driver\n  if (driver && typeof driver.constructor.cursorSupported === \"undefined\") {\n    return driver.constructor;\n  }\n\n  return null;\n}\n\nexport const MongoPollingDriver = getMongoPollingDriver();\n"],"mappings":"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"},"sourceType":"module","externalDependencies":{},"hash":"fef4b567c725683948d10cf8d758a4f41c6d658c"}
